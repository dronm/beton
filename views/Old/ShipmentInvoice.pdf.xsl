<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"  xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format"><xsl:output method="xml"/> <!-- Main template --><xsl:template match="/">    <fo:root>      <fo:layout-master-set>        <fo:simple-page-master master-name="Report"              page-height="21cm" page-width="14.7cm" margin-top="0"			  margin-left="0" margin-right="0">          <fo:region-body margin-top="0"/>		  <fo:region-before/>        </fo:simple-page-master>      </fo:layout-master-set>      <fo:page-sequence master-reference="Report">	  	  		<!-- flow-name="xsl-region-body"-->        <fo:flow flow-name="xsl-region-body">						<xsl:apply-templates select="document/model"/>		        </fo:flow>					      </fo:page-sequence>    </fo:root></xsl:template><xsl:template match="model[@id='ShipmentInvoice_Model']">	<xsl:variable name="barcode" select="/document/model[@id='Barcode_Model']/row"/>	<fo:block-container font-family="Arial" font-style="normal"		absolute-position="absolute"		left="0" top="0" width="147mm" height="210mm">		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="80mm" top="35mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/number"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="95mm" top="35mm">			<fo:block font-weight="bold">				<xsl:value-of select="concat(row/day,' ',row/month_str)"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="27mm" top="48mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/client_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="27mm" top="58mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/destination_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="27mm" top="75mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/client_tel"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="27mm" top="67mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/driver_descr"/>			</fo:block>		</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="87mm" top="75mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/vehicle_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="13mm" top="102mm" font-weight="bold">			<fo:block>БЕТОН</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="39mm" top="102mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/quant"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="54mm" top="102mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/concrete_type_descr"/>			</fo:block>		</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="12mm" top="170mm">			<fo:block>				<fo:external-graphic src="url('data:{$barcode/mime};base64,{$barcode/img}')"/>			</fo:block>			<fo:block font-size="8pt">				<xsl:value-of select="$barcode/descr"/>			</fo:block>					</fo:block-container>						<!--		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="75mm" top="97mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/time"/>			</fo:block>		</fo:block-container>			-->	</fo:block-container></xsl:template></xsl:stylesheet>