<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"  xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format"><xsl:output method="xml"/> <!-- Main template --><xsl:template match="/">    <fo:root>      <fo:layout-master-set>        <fo:simple-page-master master-name="Report"              page-height="21cm" page-width="14.7cm" margin-top="0"			  margin-left="0" margin-right="0">          <fo:region-body margin-top="0"/>		  <fo:region-before/>        </fo:simple-page-master>      </fo:layout-master-set>      <fo:page-sequence master-reference="Report">	  	  		<!-- flow-name="xsl-region-body"-->        <fo:flow flow-name="xsl-region-body">						<xsl:apply-templates select="document/model"/>		        </fo:flow>					      </fo:page-sequence>    </fo:root></xsl:template><xsl:template match="model[@id='ShipmentInvoice_Model']">	<xsl:variable name="barcode" select="/document/model[@id='Barcode_Model']/row"/>	<fo:block-container font-family="Arial" font-style="normal"		absolute-position="absolute"		left="0" top="0" width="152mm" height="210mm">		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="48mm" top="22mm">			<fo:block>				<fo:external-graphic src="url('data:{$barcode/mime};base64,{$barcode/img}')"/>			</fo:block>			<fo:block font-size="8pt">				<xsl:value-of select="$barcode/descr"/>			</fo:block>						<!--<fo:block font-size="6pt">				<xsl:value-of select="concat('Отгружено ',$q_shipped,' из ',$q_ordered,' м3')"/>			</fo:block>-->					</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="110mm" top="35mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/number"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="126mm" top="35mm">			<fo:block font-weight="bold">				<xsl:value-of select="concat(row/day,' ',row/month_str)"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="67mm" top="48mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/client_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="67mm" top="58mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/destination_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="67mm" top="75mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/client_tel"/>			</fo:block>		</fo:block-container>				<!--		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="62mm" top="67mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/driver_descr"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="122mm" top="75mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/vehicle_descr"/>			</fo:block>		</fo:block-container>		-->		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="67mm" top="67mm">			<fo:block font-weight="bold">				<!--<xsl:value-of select="concat('Порядковый номер ТС: ',row/vehicle_ord_num)"/>-->				<xsl:value-of select="row/vehicle_plate"/>			</fo:block>		</fo:block-container>						<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="45mm" top="98mm" font-weight="bold">			<fo:block>				<!-- 48 -->				<xsl:value-of select="row/concrete1"/>			</fo:block>		</fo:block-container>		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="48mm" top="102mm" font-weight="bold">			<fo:block>				<xsl:value-of select="row/concrete2"/>			</fo:block>		</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="77mm" top="102mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/quant"/>			</fo:block>		</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="89mm" top="98mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/concrete_type_descr1"/>			</fo:block>		</fo:block-container>				<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="89mm" top="102mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/concrete_type_descr2"/>			</fo:block>		</fo:block-container>		<!--<xsl:variable name="q_ordered" select="row/quant_ordered"/><xsl:variable name="q_shipped" select="row/quant_shipped"/>-->		<!--		<fo:block-container font-family="Arial" font-style="normal"			absolute-position="absolute"			left="75mm" top="97mm">			<fo:block font-weight="bold">				<xsl:value-of select="row/time"/>			</fo:block>		</fo:block-container>			-->	</fo:block-container></xsl:template></xsl:stylesheet>