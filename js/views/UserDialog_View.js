/* Copyright (c) 2012 	Andrey Mikhalevich, Katren ltd.*//*		Description*///ф/** Requirements * @requires controls/ViewDialog.js*//* constructor */function UserDialog_View(id,options){	options = options || {};	options.readMethodId = options.readMethodId || this.DEF_READ_METH_ID;	options.writeController = options.writeController || options.readController;	UserDialog_View.superclass.constructor.call(this,		id,options);	this.addDataControl(		new EditNum("UserDialog_Model_id",		{"visible":false}		),		{"modelId":"UserDialog_Model",		"valueFieldId":"id",		"keyFieldIds":null},		{"valueFieldId":"id","keyFieldIds":null}	);	this.addDataControl(		new EditString("UserDialog_Model_name",		{"labelCaption":"Наименование:","name":"name",		"attrs":{"maxlength":100,"size":50,"required":"required"}		}		),		{"modelId":"UserDialog_Model",		"valueFieldId":"name",		"keyFieldIds":null},		{"valueFieldId":"name","keyFieldIds":null}	);	if (CONST_CONTROLS.role_type_list==undefined){		CONST_CONTROLS.role_type_list = 		new EditSelectObject("UserDialog_Model_role_type",		{"labelCaption":"Роль:","name":"",		"methodId":"get_enum_list",		"modelId":"EnumList_Model",		"lookupValueFieldId":"descr",		"lookupKeyFieldIds":["id"],				"keyFieldIds":["role_type_id"],		"controller":new Enum_Controller(options.connect),		"noOpen":true,		"listView":null,		"noAutoRefresh":true,		"methParams":{"id":"role_types"}		//"defaultId":"florist"		});			}	//else{		//CONST_CONTROLS.role_type_list.setDefaultId();	//}		this.addDataControl(CONST_CONTROLS.role_type_list,		{"modelId":"UserDialog_Model",		"valueFieldId":"role_descr",		"keyFieldIds":["role_id"]},		{"valueFieldId":null,"keyFieldIds":["role_id"]}	);	this.addDataControl(new StoreEditObject(options.connect,"store_id"),		{"modelId":"UserDialog_Model",		"valueFieldId":"store_descr",		"keyFieldIds":["store_id"]},		{"valueFieldId":null,"keyFieldIds":["store_id"]}	);		this.addDataControl(		new EditString("UserDialog_Model_email",		{"labelCaption":"Эл.почта:","name":"email",		"attrs":{"maxlength":50,"size":20}		}		),		{"modelId":"UserDialog_Model",		"valueFieldId":"email",		"keyFieldIds":null},		{"valueFieldId":"email","keyFieldIds":null}	);	this.addDataControl(		new EditCheckBox("UserDialog_Model_constrain_to_store",		{"labelCaption":"Привязывать к магазину:","name":"constrain_to_store",				"attrs":{}		}		),		{"modelId":"UserDialog_Model",		"valueFieldId":"constrain_to_store",		"keyFieldIds":null},		{"valueFieldId":"constrain_to_store","keyFieldIds":null}	);	}extend(UserDialog_View,ViewDialog);